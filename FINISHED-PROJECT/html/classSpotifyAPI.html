<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Smart Mirror: SpotifyAPI Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Smart Mirror
   &#160;<span id="projectnumber">Smart Mirror system that runs on a Raspberry Pi-Arduino System; fetches spotify songs, tweets, time, and weather data for easy display &amp; turns off automatically when no motion detected to save energy</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classSpotifyAPI-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">SpotifyAPI Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class used to interface with Spotify API Class performs Spotify API authentication using a refresh token &amp; then performs API call to fetch recently played songs from a dummy account made for project.  
 <a href="classSpotifyAPI.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="SpotifyAPI_8h_source.html">SpotifyAPI.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for SpotifyAPI:</div>
<div class="dyncontent">
<div class="center"><img src="classSpotifyAPI__inherit__graph.png" border="0" usemap="#SpotifyAPI_inherit__map" alt="Inheritance graph"/></div>
<!-- MAP 0 -->
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for SpotifyAPI:</div>
<div class="dyncontent">
<div class="center"><img src="classSpotifyAPI__coll__graph.png" border="0" usemap="#SpotifyAPI_coll__map" alt="Collaboration graph"/></div>
<!-- MAP 1 -->
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab0d1896e2ab4c52f496eb494640a89b1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpotifyAPI.html#ab0d1896e2ab4c52f496eb494640a89b1">SpotifyAPI</a> ()</td></tr>
<tr class="memdesc:ab0d1896e2ab4c52f496eb494640a89b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize data members base_64_encoding_auth_request and refresh_request Initialize the data members to be used later for Spotify API authentication &amp; access @parameters None.  <a href="classSpotifyAPI.html#ab0d1896e2ab4c52f496eb494640a89b1">More...</a><br /></td></tr>
<tr class="separator:ab0d1896e2ab4c52f496eb494640a89b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40e30a70f52e595680f6c16133567ca0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpotifyAPI.html#a40e30a70f52e595680f6c16133567ca0">parseAccessToken</a> (std::string &amp;s)</td></tr>
<tr class="memdesc:a40e30a70f52e595680f6c16133567ca0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse response from authentication request to retrieve access token Convert JSON response into a dictionary, parse response, retrieve access token &amp; store @parameters Raw authentication response string.  <a href="classSpotifyAPI.html#a40e30a70f52e595680f6c16133567ca0">More...</a><br /></td></tr>
<tr class="separator:a40e30a70f52e595680f6c16133567ca0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ff3f8e1289c38a420ba7a3a58b5793e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpotifyAPI.html#a8ff3f8e1289c38a420ba7a3a58b5793e">getRecentlyPlayedTracks</a> ()</td></tr>
<tr class="memdesc:a8ff3f8e1289c38a420ba7a3a58b5793e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Using access token, trigger API call to retrieve recently played tracks Retrieve raw JSON response of recently played song data from Spotify API using cURL, store @parameters None.  <a href="classSpotifyAPI.html#a8ff3f8e1289c38a420ba7a3a58b5793e">More...</a><br /></td></tr>
<tr class="separator:a8ff3f8e1289c38a420ba7a3a58b5793e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a015768af234256f2d85f85690b179463"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpotifyAPI.html#a015768af234256f2d85f85690b179463">parseRecentTracks</a> ()</td></tr>
<tr class="memdesc:a015768af234256f2d85f85690b179463"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse response to retrieve recently played tracks Parse raw JSON response from Spotify API using dictionary, retrieve recently played songs &amp; store @parameters None.  <a href="classSpotifyAPI.html#a015768af234256f2d85f85690b179463">More...</a><br /></td></tr>
<tr class="separator:a015768af234256f2d85f85690b179463"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17d73aace5f5bef0ab6cf0aa6200f814"><td class="memItemLeft" align="right" valign="top">std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSpotifyAPI.html#a17d73aace5f5bef0ab6cf0aa6200f814">call</a> () override</td></tr>
<tr class="memdesc:a17d73aace5f5bef0ab6cf0aa6200f814"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implemented function based on <a class="el" href="classAPIInterface.html" title="Interface to define general API object Different types of API objects implement interface (evident by...">APIInterface</a>; Perform authentication, retrieve song data and store Use refresh token generated to retrieve access token using cURL HTTP request to the Spotify access URL, then call other functions to retrieve song data &amp; store @parameters None.  <a href="classSpotifyAPI.html#a17d73aace5f5bef0ab6cf0aa6200f814">More...</a><br /></td></tr>
<tr class="separator:a17d73aace5f5bef0ab6cf0aa6200f814"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a6332aa85a7bcc1e380b9eeab4fe4f56b"><td class="memItemLeft" align="right" valign="top"><a id="a6332aa85a7bcc1e380b9eeab4fe4f56b"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>spotify_auth_response</b></td></tr>
<tr class="separator:a6332aa85a7bcc1e380b9eeab4fe4f56b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4202bafa3fa12a99943ede3aa790ce1a"><td class="memItemLeft" align="right" valign="top"><a id="a4202bafa3fa12a99943ede3aa790ce1a"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>spotify_songs_response</b></td></tr>
<tr class="separator:a4202bafa3fa12a99943ede3aa790ce1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab977f7655481148ec4852a53dac944a2"><td class="memItemLeft" align="right" valign="top"><a id="ab977f7655481148ec4852a53dac944a2"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>base_64_encoding_auth_request</b></td></tr>
<tr class="separator:ab977f7655481148ec4852a53dac944a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01581d1d9ec52159289057f787149c6b"><td class="memItemLeft" align="right" valign="top"><a id="a01581d1d9ec52159289057f787149c6b"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>refresh_request</b></td></tr>
<tr class="separator:a01581d1d9ec52159289057f787149c6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9b06266b297641418b834112eea24e6"><td class="memItemLeft" align="right" valign="top"><a id="ae9b06266b297641418b834112eea24e6"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>access_token</b></td></tr>
<tr class="separator:ae9b06266b297641418b834112eea24e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bd6390758a75ddccd5e44efdc81ac55"><td class="memItemLeft" align="right" valign="top"><a id="a8bd6390758a75ddccd5e44efdc81ac55"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>recentSongs</b></td></tr>
<tr class="separator:a8bd6390758a75ddccd5e44efdc81ac55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d8befbcbeae9ec6e166ce7e1589f8d7"><td class="memItemLeft" align="right" valign="top"><a id="a7d8befbcbeae9ec6e166ce7e1589f8d7"></a>
<a class="el" href="classCurlHelper.html">CurlHelper</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>curl_token_make</b></td></tr>
<tr class="separator:a7d8befbcbeae9ec6e166ce7e1589f8d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e4da61fecf40a5677c275b10d771161"><td class="memItemLeft" align="right" valign="top"><a id="a8e4da61fecf40a5677c275b10d771161"></a>
<a class="el" href="classCurlHelper.html">CurlHelper</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>curl_response_make</b></td></tr>
<tr class="separator:a8e4da61fecf40a5677c275b10d771161"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class used to interface with Spotify API Class performs Spotify API authentication using a refresh token &amp; then performs API call to fetch recently played songs from a dummy account made for project. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab0d1896e2ab4c52f496eb494640a89b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0d1896e2ab4c52f496eb494640a89b1">&#9670;&nbsp;</a></span>SpotifyAPI()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SpotifyAPI::SpotifyAPI </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize data members base_64_encoding_auth_request and refresh_request Initialize the data members to be used later for Spotify API authentication &amp; access @parameters None. </p>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ashwin Singh </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a17d73aace5f5bef0ab6cf0aa6200f814"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17d73aace5f5bef0ab6cf0aa6200f814">&#9670;&nbsp;</a></span>call()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string &amp; SpotifyAPI::call </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implemented function based on <a class="el" href="classAPIInterface.html" title="Interface to define general API object Different types of API objects implement interface (evident by...">APIInterface</a>; Perform authentication, retrieve song data and store Use refresh token generated to retrieve access token using cURL HTTP request to the Spotify access URL, then call other functions to retrieve song data &amp; store @parameters None. </p>
<dl class="section return"><dt>Returns</dt><dd>Formatted string of recently played songs </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ashwin Singh </dd></dl>

<p>Implements <a class="el" href="classAPIInterface.html#acfbf0916484ebab8ff7475c4d8a49833">APIInterface</a>.</p>

</div>
</div>
<a id="a8ff3f8e1289c38a420ba7a3a58b5793e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ff3f8e1289c38a420ba7a3a58b5793e">&#9670;&nbsp;</a></span>getRecentlyPlayedTracks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpotifyAPI::getRecentlyPlayedTracks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Using access token, trigger API call to retrieve recently played tracks Retrieve raw JSON response of recently played song data from Spotify API using cURL, store @parameters None. </p>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ashwin Singh </dd></dl>

</div>
</div>
<a id="a40e30a70f52e595680f6c16133567ca0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40e30a70f52e595680f6c16133567ca0">&#9670;&nbsp;</a></span>parseAccessToken()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpotifyAPI::parseAccessToken </td>
          <td>(</td>
          <td class="paramtype">std::string &amp;&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse response from authentication request to retrieve access token Convert JSON response into a dictionary, parse response, retrieve access token &amp; store @parameters Raw authentication response string. </p>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ashwin Singh </dd></dl>

</div>
</div>
<a id="a015768af234256f2d85f85690b179463"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a015768af234256f2d85f85690b179463">&#9670;&nbsp;</a></span>parseRecentTracks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SpotifyAPI::parseRecentTracks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parse response to retrieve recently played tracks Parse raw JSON response from Spotify API using dictionary, retrieve recently played songs &amp; store @parameters None. </p>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<dl class="section author"><dt>Author</dt><dd>Ashwin Singh </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="SpotifyAPI_8h_source.html">SpotifyAPI.h</a></li>
<li>SpotifyAPI.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
